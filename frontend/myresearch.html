<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <title>‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏à‡∏±‡∏¢</title>
  <style>
    body { font-family: sans-serif; padding: 20px; }
    iframe { width: 100%; height: 500px; border: 1px solid #ccc; margin-bottom: 20px; }
    input, button, textarea { margin: 5px 0; width: 100%; }
    .ref-item { border-bottom: 1px solid #ddd; padding: 10px 0; }
    .ref-title { font-weight: bold; }
  </style>
</head>
<body>
  <h1>‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡∏Ç‡∏≠‡∏á‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤</h1>
  <p>‡∏á‡∏≤‡∏ô‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡∏ô‡∏µ‡πâ‡πÄ‡∏ô‡πâ‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏¢‡∏∏‡∏Å‡∏ï‡πå‡πÉ‡∏ä‡πâ‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ Wi-Fi sensing ‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ö‡∏≠‡∏±‡∏•‡∏Å‡∏≠‡∏£‡∏¥‡∏ò‡∏∂‡∏° SVM ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏û‡∏§‡∏ï‡∏¥‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏ß‡πÉ‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πà‡∏≤‡∏á ‡πÜ ‡πÇ‡∏î‡∏¢‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏ã‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå‡πÅ‡∏•‡∏∞‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• RSSI ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏¢‡∏Å‡πÅ‡∏¢‡∏∞‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡πÅ‡∏ö‡∏ö‡πÑ‡∏°‡πà‡∏£‡∏∏‡∏Å‡∏£‡∏∏‡∏Å</p>

  <h2>üìö PDF ‡∏á‡∏≤‡∏ô‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡∏™‡∏£‡∏∏‡∏õ</h2>
  <iframe src="https://example.com/myresearch-summary.pdf" title="PDF ‡∏ß‡∏¥‡∏à‡∏±‡∏¢"></iframe>

  <h2>üìñ ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á (IEEE Style)</h2>
  <div id="ref-list"></div>

  <h3>‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á</h3>
  <input type="text" id="title" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏û‡πÄ‡∏û‡∏≠‡∏£‡πå‡∏ï‡∏≤‡∏° IEEE" />
  <input type="text" id="pdf_url" placeholder="‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÑ‡∏ü‡∏•‡πå PDF ‡∏´‡∏£‡∏∑‡∏≠ URL" />
  <button onclick="addReference()">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á</button>

  <script>
    const api = "http://65.0.131.65:3000/references";

    async function fetchReferences() {
      try {
        const res = await fetch(api);
        if (!res.ok) {
          throw new Error(`HTTP error! status: ${res.status}`);
        }
        const refs = await res.json();
        const container = document.getElementById("ref-list");
        container.innerHTML = "";
        refs.forEach(ref => {
          const div = document.createElement("div");
          div.className = "ref-item";
          div.innerHTML = `
            <div class="ref-title">${ref.title}</div>
            <a href="${ref.pdf_url}" target="_blank">‡∏î‡∏π PDF</a><br/>
            <button onclick="editReference(${ref.id})">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
            <button onclick="deleteReference(${ref.id})">‡∏•‡∏ö</button>
          `;
          container.appendChild(div);
        });
      } catch (error) {
        console.error("Failed to fetch references:", error);
        // Display an error message to the user in the UI
        const container = document.getElementById("ref-list");
        container.innerHTML = "<p>Failed to load references. Please try again later.</p>";
      }
    }

    async function addReference() {
      const title = document.getElementById("title").value;
      const pdf_url = document.getElementById("pdf_url").value;
      if (title && pdf_url) {
        await fetch(api, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ title, pdf_url })
        });
        fetchReferences();
      }
    }

    async function deleteReference(id) {
      if (confirm("‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏´‡∏£‡∏∑‡∏≠‡∏ß‡πà‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ô‡∏µ‡πâ?")) {
        await fetch(`${api}/${id}`, { method: "DELETE" });
        fetchReferences();
      }
    }

    fetchReferences();
  </script>
</body>
</html>